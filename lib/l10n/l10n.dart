enum AppLanguage { english, persian, arabic, chinese, russian, turkish }

extension AppLanguageExt on AppLanguage {
  String get displayName {
    switch (this) {
      case AppLanguage.english: return 'English';
      case AppLanguage.persian: return 'فارسی';
      case AppLanguage.arabic:  return 'العربية';
      case AppLanguage.chinese: return '中文';
      case AppLanguage.russian: return 'Русский';
      case AppLanguage.turkish: return 'Türkçe';
    }
  }

  bool get isRtl =>
      this == AppLanguage.persian || this == AppLanguage.arabic;

  String get code {
    switch (this) {
      case AppLanguage.english: return 'en';
      case AppLanguage.persian: return 'fa';
      case AppLanguage.arabic:  return 'ar';
      case AppLanguage.chinese: return 'zh';
      case AppLanguage.russian: return 'ru';
      case AppLanguage.turkish: return 'tr';
    }
  }
}

class L10n {
  static const Map<String, Map<String, String>> _strings = {
    'en': {
      'appTitle': 'Cf Config Doctor',
      'scan': 'Scan',
      'results': 'Results',
      'export': 'Export',
      'scanning': 'SCANNING',
      'configuration': 'Configuration',
      'domainSni': 'Domain (host)',
      'uuidOptional': 'UUID (optional)',
      'uuidHint': 'Leave blank for clean IPs without VLESS',
      'wsPathOptional': 'WS Path (optional)',
      'tuning': 'Tuning',
      'threads': 'Threads',
      'latencyMs': 'Latency (ms)',
      'maxRange': 'Max/Range',
      'outputFormats': 'Output Formats',
      'vlessLinks': 'VLESS Links',
      'requiresUuid': 'Requires UUID & WS Path',
      'clashConfig': 'Clash Meta Config',
      'fullYaml': 'Full YAML with routing rules',
      'ipRanges': 'IP Ranges',
      'all': 'All',
      'none': 'None',
      'add': 'Add',
      'startScan': 'Start Scan',
      'stopScan': 'Stop Scan',
      'found': 'Found',
      'scanned': 'Scanned',
      'speed': 'Speed',
      'range': 'Range',
      'total': 'Total',
      'excellent': 'Excellent',
      'good': 'Good',
      'fair': 'Fair',
      'searchIps': 'Search IPs or ranges…',
      'ipAddress': 'IP Address',
      'latency': 'Latency',
      'noIpsFound': 'No clean IPs found yet',
      'startScanHint': 'Start a scan on the Scan tab',
      'ipCopied': 'IP copied',
      'preview': 'Preview',
      'importIps': 'Import IPs',
      'importHint': 'Paste IP list (one per line)',
      'import': 'Import',
      'clearAll': 'Clear All',
      'copiedClipboard': 'Copied to clipboard',
      'fileSaveNotSupported': 'File save not supported on this platform',
      'savedTo': 'Saved to',
      'noValidIps': 'No valid IPs found in input',
      'imported': 'Imported',
      'ips': 'IPs',
      'invalidCidr': 'Invalid CIDR format',
      'settings': 'Settings',
      'language': 'Language',
      'theme': 'Theme',
      'plain': 'Plain',
      'noIpsYet': '# No IPs found yet.',
      'download': 'Download',
      'downloadedTo': 'File saved to',
      'noContentToSave': 'No content to save',
    },
    'fa': {
      'appTitle': 'اسکنر CF',
      'scan': 'اسکن',
      'results': 'نتایج',
      'export': 'خروجی',
      'scanning': 'در حال اسکن',
      'configuration': 'پیکربندی',
      'domainSni': 'دامنه (host)',
      'uuidOptional': 'UUID (اختیاری)',
      'uuidHint': 'برای یافتن IP تمیز بدون VLESS خالی بگذارید',
      'wsPathOptional': 'مسیر WS (اختیاری)',
      'tuning': 'تنظیمات',
      'threads': 'رشته‌ها',
      'latencyMs': 'تأخیر (ms)',
      'maxRange': 'حداکثر/بازه',
      'outputFormats': 'فرمت‌های خروجی',
      'vlessLinks': 'لینک‌های VLESS',
      'requiresUuid': 'نیاز به UUID و مسیر WS',
      'clashConfig': 'پیکربندی Clash Meta',
      'fullYaml': 'YAML کامل با قوانین مسیریابی',
      'ipRanges': 'بازه‌های IP',
      'all': 'همه',
      'none': 'هیچ',
      'add': 'افزودن',
      'startScan': 'شروع اسکن',
      'stopScan': 'توقف اسکن',
      'found': 'یافت شده',
      'scanned': 'اسکن شده',
      'speed': 'سرعت',
      'range': 'بازه',
      'total': 'کل',
      'excellent': 'عالی',
      'good': 'خوب',
      'fair': 'متوسط',
      'searchIps': 'جستجوی IP یا بازه…',
      'ipAddress': 'آدرس IP',
      'latency': 'تأخیر',
      'noIpsFound': 'هنوز IP تمیزی یافت نشده',
      'startScanHint': 'اسکن را از تب اسکن شروع کنید',
      'ipCopied': 'IP کپی شد',
      'preview': 'پیش‌نمایش',
      'importIps': 'وارد کردن IP',
      'importHint': 'لیست IP را بچسبانید (هر خط یکی)',
      'import': 'وارد کردن',
      'clearAll': 'پاک کردن همه',
      'copiedClipboard': 'در کلیپبورد کپی شد',
      'fileSaveNotSupported': 'ذخیره فایل در این پلتفرم پشتیبانی نمی‌شود',
      'savedTo': 'ذخیره شد در',
      'noValidIps': 'هیچ IP معتبری در ورودی یافت نشد',
      'imported': 'وارد شد',
      'ips': 'IP',
      'invalidCidr': 'فرمت CIDR نامعتبر',
      'settings': 'تنظیمات',
      'language': 'زبان',
      'theme': 'تم',
      'plain': 'ساده',
      'noIpsYet': '# هنوز IP یافت نشده.',
      'download': 'دانلود',
      'downloadedTo': 'فایل ذخیره شد در',
      'noContentToSave': 'محتوایی برای ذخیره وجود ندارد',
    },
    'ar': {
      'appTitle': 'ماسح CF',
      'scan': 'مسح',
      'results': 'النتائج',
      'export': 'تصدير',
      'scanning': 'جاري المسح',
      'configuration': 'الإعدادات',
      'domainSni': 'النطاق (host)',
      'uuidOptional': 'UUID (اختياري)',
      'uuidHint': 'اتركه فارغاً للعثور على IPs نظيفة',
      'wsPathOptional': 'مسار WS (اختياري)',
      'tuning': 'الضبط',
      'threads': 'الخيوط',
      'latencyMs': 'التأخير (ms)',
      'maxRange': 'الحد/النطاق',
      'outputFormats': 'تنسيقات الإخراج',
      'vlessLinks': 'روابط VLESS',
      'requiresUuid': 'يتطلب UUID ومسار WS',
      'clashConfig': 'إعداد Clash Meta',
      'fullYaml': 'YAML كامل مع قواعد التوجيه',
      'ipRanges': 'نطاقات IP',
      'all': 'الكل',
      'none': 'لا شيء',
      'add': 'إضافة',
      'startScan': 'بدء المسح',
      'stopScan': 'إيقاف المسح',
      'found': 'وُجد',
      'scanned': 'مُمسح',
      'speed': 'السرعة',
      'range': 'النطاق',
      'total': 'المجموع',
      'excellent': 'ممتاز',
      'good': 'جيد',
      'fair': 'مقبول',
      'searchIps': 'بحث عن IPs أو نطاقات…',
      'ipAddress': 'عنوان IP',
      'latency': 'التأخير',
      'noIpsFound': 'لم يتم العثور على IPs نظيفة بعد',
      'startScanHint': 'ابدأ المسح من علامة التبويب مسح',
      'ipCopied': 'تم نسخ IP',
      'preview': 'معاينة',
      'importIps': 'استيراد IPs',
      'importHint': 'الصق قائمة IP (واحد في كل سطر)',
      'import': 'استيراد',
      'clearAll': 'مسح الكل',
      'copiedClipboard': 'تم النسخ إلى الحافظة',
      'fileSaveNotSupported': 'حفظ الملف غير مدعوم',
      'savedTo': 'تم الحفظ في',
      'noValidIps': 'لم يتم العثور على IPs صالحة',
      'imported': 'تم الاستيراد',
      'ips': 'IPs',
      'invalidCidr': 'تنسيق CIDR غير صالح',
      'settings': 'الإعدادات',
      'language': 'اللغة',
      'theme': 'السمة',
      'plain': 'عادي',
      'noIpsYet': '# لم يتم العثور على IPs بعد.',
      'download': 'تحميل',
      'downloadedTo': 'تم حفظ الملف في',
      'noContentToSave': 'لا يوجد محتوى للحفظ',
    },
    'zh': {
      'appTitle': 'CF 扫描器',
      'scan': '扫描',
      'results': '结果',
      'export': '导出',
      'scanning': '扫描中',
      'configuration': '配置',
      'domainSni': '域名 (host)',
      'uuidOptional': 'UUID (可选)',
      'uuidHint': '留空以查找干净 IP',
      'wsPathOptional': 'WS 路径 (可选)',
      'tuning': '调优',
      'threads': '线程',
      'latencyMs': '延迟 (ms)',
      'maxRange': '每范围最大',
      'outputFormats': '输出格式',
      'vlessLinks': 'VLESS 链接',
      'requiresUuid': '需要 UUID 和 WS 路径',
      'clashConfig': 'Clash Meta 配置',
      'fullYaml': '包含路由规则的完整 YAML',
      'ipRanges': 'IP 范围',
      'all': '全部',
      'none': '无',
      'add': '添加',
      'startScan': '开始扫描',
      'stopScan': '停止扫描',
      'found': '已找到',
      'scanned': '已扫描',
      'speed': '速度',
      'range': '范围',
      'total': '总计',
      'excellent': '优秀',
      'good': '良好',
      'fair': '一般',
      'searchIps': '搜索 IP 或范围…',
      'ipAddress': 'IP 地址',
      'latency': '延迟',
      'noIpsFound': '尚未找到干净的 IP',
      'startScanHint': '在扫描标签页开始扫描',
      'ipCopied': 'IP 已复制',
      'preview': '预览',
      'importIps': '导入 IP',
      'importHint': '粘贴 IP 列表（每行一个）',
      'import': '导入',
      'clearAll': '清除全部',
      'copiedClipboard': '已复制到剪贴板',
      'fileSaveNotSupported': '此平台不支持文件保存',
      'savedTo': '已保存到',
      'noValidIps': '未找到有效 IP',
      'imported': '已导入',
      'ips': '个 IP',
      'invalidCidr': 'CIDR 格式无效',
      'settings': '设置',
      'language': '语言',
      'theme': '主题',
      'plain': '纯文本',
      'noIpsYet': '# 尚未找到 IP。',
      'download': '下载',
      'downloadedTo': '文件已保存到',
      'noContentToSave': '没有可保存的内容',
    },
    'ru': {
      'appTitle': 'CF Сканер',
      'scan': 'Скан',
      'results': 'Результаты',
      'export': 'Экспорт',
      'scanning': 'СКАНИРОВАНИЕ',
      'configuration': 'Конфигурация',
      'domainSni': 'Домен (host)',
      'uuidOptional': 'UUID (необязательно)',
      'uuidHint': 'Оставьте пустым для чистых IP',
      'wsPathOptional': 'WS Путь (необязательно)',
      'tuning': 'Настройка',
      'threads': 'Потоки',
      'latencyMs': 'Задержка (мс)',
      'maxRange': 'Макс/Диапазон',
      'outputFormats': 'Форматы вывода',
      'vlessLinks': 'Ссылки VLESS',
      'requiresUuid': 'Требуется UUID и WS путь',
      'clashConfig': 'Конфиг Clash Meta',
      'fullYaml': 'Полный YAML с правилами',
      'ipRanges': 'Диапазоны IP',
      'all': 'Все',
      'none': 'Ничего',
      'add': 'Добавить',
      'startScan': 'Начать скан',
      'stopScan': 'Остановить',
      'found': 'Найдено',
      'scanned': 'Просканировано',
      'speed': 'Скорость',
      'range': 'Диапазон',
      'total': 'Всего',
      'excellent': 'Отлично',
      'good': 'Хорошо',
      'fair': 'Нормально',
      'searchIps': 'Поиск IP или диапазонов…',
      'ipAddress': 'IP Адрес',
      'latency': 'Задержка',
      'noIpsFound': 'Чистые IP не найдены',
      'startScanHint': 'Начните скан',
      'ipCopied': 'IP скопирован',
      'preview': 'Предпросмотр',
      'importIps': 'Импорт IP',
      'importHint': 'Вставьте список IP',
      'import': 'Импорт',
      'clearAll': 'Очистить',
      'copiedClipboard': 'Скопировано',
      'fileSaveNotSupported': 'Сохранение не поддерживается',
      'savedTo': 'Сохранено в',
      'noValidIps': 'Нет допустимых IP',
      'imported': 'Импортировано',
      'ips': 'IP',
      'invalidCidr': 'Недопустимый CIDR',
      'settings': 'Настройки',
      'language': 'Язык',
      'theme': 'Тема',
      'plain': 'Простой',
      'noIpsYet': '# IP не найдены.',
      'download': 'Скачать',
      'downloadedTo': 'Файл сохранён в',
      'noContentToSave': 'Нет содержимого для сохранения',
    },
    'tr': {
      'appTitle': 'CF Tarayıcı',
      'scan': 'Tara',
      'results': 'Sonuçlar',
      'export': 'Dışa Aktar',
      'scanning': 'TARANIYOR',
      'configuration': 'Yapılandırma',
      'domainSni': 'Alan Adı (host)',
      'uuidOptional': 'UUID (isteğe bağlı)',
      'uuidHint': 'Temiz IP için boş bırakın',
      'wsPathOptional': 'WS Yolu (isteğe bağlı)',
      'tuning': 'Ayarlar',
      'threads': 'İş Parçacığı',
      'latencyMs': 'Gecikme (ms)',
      'maxRange': 'Maks/Aralık',
      'outputFormats': 'Çıktı Formatları',
      'vlessLinks': 'VLESS Bağlantıları',
      'requiresUuid': 'UUID ve WS Yolu gerektirir',
      'clashConfig': 'Clash Meta Yapılandırması',
      'fullYaml': 'Tam YAML',
      'ipRanges': 'IP Aralıkları',
      'all': 'Tümü',
      'none': 'Hiçbiri',
      'add': 'Ekle',
      'startScan': 'Taramayı Başlat',
      'stopScan': 'Durdur',
      'found': 'Bulundu',
      'scanned': 'Taranan',
      'speed': 'Hız',
      'range': 'Aralık',
      'total': 'Toplam',
      'excellent': 'Mükemmel',
      'good': 'İyi',
      'fair': 'Orta',
      'searchIps': 'IP veya aralık ara…',
      'ipAddress': 'IP Adresi',
      'latency': 'Gecikme',
      'noIpsFound': 'Henüz temiz IP bulunamadı',
      'startScanHint': 'Taramayı başlatın',
      'ipCopied': 'IP kopyalandı',
      'preview': 'Önizleme',
      'importIps': 'IP İçe Aktar',
      'importHint': 'IP listesini yapıştırın',
      'import': 'İçe Aktar',
      'clearAll': 'Temizle',
      'copiedClipboard': 'Kopyalandı',
      'fileSaveNotSupported': 'Dosya kaydetme desteklenmiyor',
      'savedTo': 'Kaydedildi',
      'noValidIps': 'Geçerli IP bulunamadı',
      'imported': 'İçe aktarıldı',
      'ips': 'IP',
      'invalidCidr': 'Geçersiz CIDR',
      'settings': 'Ayarlar',
      'language': 'Dil',
      'theme': 'Tema',
      'plain': 'Düz',
      'noIpsYet': '# IP bulunamadı.',
      'download': 'İndir',
      'downloadedTo': 'Dosya kaydedildi',
      'noContentToSave': 'Kaydedilecek içerik yok',
    },
  };

  static String tr(String key, AppLanguage lang) {
    return _strings[lang.code]?[key] ?? _strings['en']?[key] ?? key;
  }
}

